## 线程件间的通讯

主线程


决方案：

### 共享内存
1. 多个线程之间，共享一个类中的同一个对象
2. 任何一个线程对该对象中的变量做修改，其他线程也可以接收到修改之后的值
3. 这个时候多个线程对该对象保持一个强持有

强持有：从对象创建开始一直到程序结束，该对象的内存空间一直存在<br>
弱持有：只要对象不使用，该对象的内存空间就会被GC回收，使用时再重新分配。

优点
1. 比较省资源（CPU）<br>
2. 对程序的执行的效率不会有影响<br>

缺点
1. 没有主动方和被动方（发送方和接收方）<br>
2. 如果共享内存出现问题，跟共享内存涉及到的线程几乎全部完蛋<br>
3. 完成一次发送和接收会多消耗一次内存

适用场景：
1. 数据量比较小，每个线程之间的通讯的频率不高的情况下推荐使用共享内存

---

### 通信管道 （Stream）
PipedinputStream `管道输入方向` <br>
PipedoutStream `管道输出方向`

#### 线程间通信
都是子线程将消息发送`输出方向`，给主线程`输入方向`
1. 子线程将要发送的数据收集好
2. 将数据转换成2进制数据
3. 主线程接收到数据
4. 将消息转换成正常类型
5. 执行应有的操作